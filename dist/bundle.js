!function(e){var n={};function t(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:a})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(a,o,function(n){return e[n]}.bind(null,o));return a},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=2)}([function(e,n){function t(e,n,t){return(e-n)/t}function a(e,n,t){return(e-n)/t}function o(e,n,t){return e+(n-e)*t}e.exports={calcRealFactor:t,calcImaginaryFactor:a,handleZoom:function(e,n,r,i,c,m,l,s){let u=r,g=i;e.preventDefault();const d=t(g.maxReal,g.minReal,c),f=a(g.maxImaginary,g.minImaginary,m);return{currentDimens:g=function(e,n,t,a){const r=a,i=1/t;r.minReal=o(e,r.minReal,i),r.maxReal=o(e,r.maxReal,i),r.minImaginary=o(n,r.minImaginary,i),r.maxImaginary=o(n,r.maxImaginary,i);const c=(r.minReal+r.maxReal)/2-e,m=(r.minImaginary+r.maxImaginary)/2-n;return r.minReal-=c,r.maxReal-=c,r.minImaginary-=m,r.maxImaginary-=m,r}(g.minReal+(e.clientX-l)*d,g.minImaginary+(e.clientY-s)*f,u*=n,g),zoomFactor:r}},handlePan:function(e,n,t){const a=t,o=Math.min(Math.abs(a.minImaginary*n),Math.abs(a.maxImaginary*n)),r={0:()=>{a.minImaginary+=o,a.maxImaginary+=o},1:()=>{a.minReal-=o,a.maxReal-=o},2:()=>{a.minImaginary-=o,a.maxImaginary-=o},3:()=>{a.minReal+=o,a.maxReal+=o}}[e];return r&&r(),a}}},function(e,n,t){e.exports=function(){return new Worker(t.p+"4754bcdf690e26961eec.worker.js")}},function(e,n,t){"use strict";t.r(n);var a=t(1),o=t.n(a),r=t(0),i=t.n(r);const c=6,m={iterations:1e3,escapeRadius:256,zoomStep:1.5},l=window.innerWidth,s=window.innerHeight,u={minReal:-2,maxReal:1.3,minImaginary:-1.4,maxImaginary:1.5};let g=1,d={};const f=2048,y=[{r:0,g:7,b:100},{r:32,g:107,b:203},{r:237,g:255,b:255},{r:255,g:170,b:0},{r:0,g:2,b:0}];let p=y.slice(),h=[];const I=document.getElementById("canvas");I.width=l,I.height=s;const x=I.offsetLeft,b=I.offsetTop,R=I.getContext("2d");function E(e,n){let{minReal:t,maxReal:a,minImaginary:r,maxImaginary:u}=e;h=function(e,n){const t=function(e,n){let t=e.length;const{length:a}=e;if(a!==n.length)throw new Error("Need an equal count of xs and ys.");if(0===a)return function(){return 0};if(1===a){const e=+n[0];return function(){return e}}const o=[];for(t=0;t<a;t++)o.push(t);o.sort((n,t)=>e[n]<e[t]?-1:1);const r=e,i=n;for(e=[],n=[],t=0;t<a;t++)e.push(+r[o[t]]),n.push(+i[o[t]]);const c=[],m=[],l=[];for(t=0;t<a-1;t++){const a=e[t+1]-e[t],o=n[t+1]-n[t];m.push(a),c.push(o),l.push(o/a)}const s=[l[0]];for(t=0;t<m.length-1;t++){const e=l[t],n=l[t+1];if(e*n<=0)s.push(0);else{const a=m[t],o=m[t+1],r=a+o;s.push(3*r/((r+o)/e+(r+a)/n))}}s.push(l[l.length-1]);const u=[],g=[];for(t=0;t<s.length-1;t++){const e=s[t],n=l[t],a=1/m[t],o=e+s[t+1]-n-n;u.push((n-e-o)*a),g.push(o*a*a)}return function(t){let a=e.length-1;if(t===e[a])return n[a];let o,r=0,i=g.length-1;for(;r<=i;){o=Math.floor(.5*(r+i));const a=e[o];if(a<t)r=o+1;else{if(!(a>t))return n[o];i=o-1}}a=Math.max(0,i);const c=t-e[a],m=c*c;return n[a]+s[a]*c+u[a]*m+g[a]*c*m}};function a(n,t){for(let a=0;a<1;a+=1/e){const e=t(a);n.push(e)}}const o=[],r=[],i=[];a(o,t([0,.16,.42,.6425,.8575],[n[0].r,n[1].r,n[2].r,n[3].r,n[4].r])),a(r,t([0,.16,.42,.6425,.8575],[n[0].g,n[1].g,n[2].g,n[3].g,n[4].g])),a(i,t([0,.16,.42,.6425,.8575],[n[0].b,n[1].b,n[2].b,n[3].b,n[4].b]));const c=[];for(let e=0;e<i.length;e++)c.push(`rgb(${o[e]},${r[e]},${i[e]})`);return c}(f,p);const g=Math.abs(e.maxReal-e.minReal)/Math.abs(e.maxImaginary-e.minImaginary),y=l/s;if(y>g){const e=y/g;t*=e,a*=e}else{const e=g/y;r*=e,u*=e}const I=i.a.calcRealFactor(a,t,l),x=i.a.calcImaginaryFactor(u,r,s),b=function(e){const{points:o}=e.data;for(let n=0;n<o.length;n++){const{y:t,fillStyle:a}=o[n];R.fillStyle=a,R.fillRect(e.data.x,t,1,1)}let i=e.data.x;(i+=c)<l&&this.postMessage({options:n,x:i,CANVAS_HEIGHT:s,colorArray:h,realFactor:I,imaginaryFactor:x,minReal:t,maxReal:a,minImaginary:r,maxImaginary:u})};for(let e=0;e<c;e++){const i=new o.a;i.postMessage({options:n,x:e,CANVAS_HEIGHT:s,colorArray:h,realFactor:I,imaginaryFactor:x,minReal:t,maxReal:a,minImaginary:r,maxImaginary:u}),i.onmessage=b}!function(e,n){const t={0:()=>document.getElementById("minReal"),1:()=>document.getElementById("maxReal"),2:()=>document.getElementById("minImag"),3:()=>document.getElementById("maxImag")};for(let n=0;n<Object.keys(e).length;n++){const a=t[n];a&&(a().textContent=e[Object.keys(e)[n]])}const a={0:()=>document.getElementById("iterations"),1:()=>document.getElementById("escapeRadius"),2:()=>document.getElementById("zoomStep")};for(let e=0;e<Object.keys(n).length;e++){const t=a[e];t&&(t().value=n[Object.keys(n)[e]])}}(d,m)}const w=document.getElementsByTagName("body")[0];w.addEventListener("click",e=>{const n=i.a.handleZoom(e,m.zoomStep,g,d,l,s,x,b);({currentDimens:d,zoomFactor:g}=n),E(d,m)}),w.addEventListener("contextmenu",e=>{const n=i.a.handleZoom(e,1/m.zoomStep,g,d,l,s,x,b);({currentDimens:d,zoomFactor:g}=n),E(d,m)}),document.getElementById("downloadLink").addEventListener("click",function(){this.href=I.toDataURL("image/jpeg")},!1);const v=document.getElementsByClassName("block");for(let e=0;e<v.length;e++){v[e].addEventListener("click",e=>{e.stopPropagation()})}window.updateColor=function(e,n){const[t,a,o]=e.rgb.map(e=>Math.round(e));p[n]={r:t,g:a,b:o},E(d),document.getElementsByClassName("jscolor")[n].jscolor.hide()},window.pan=function(e,n){e.stopPropagation(),E(d=i.a.handlePan(n,.02,d),m)},window.updateMandelbrot=function(){const e=document.getElementById("iterations").value,n=document.getElementById("escapeRadius").value,t=document.getElementById("zoomStep").value;m.iterations=e?parseInt(e,10):1e3,m.escapeRadius=n?parseFloat(n):256,m.zoomStep=t?parseFloat(t):1.5,E(d,m)},window.handleZoomStep=function(){const e=document.getElementById("zoomStep").value;m.zoomStep=e?parseFloat(e):1.5},window.reset=(()=>{d={...u},p=y.slice(),m.iterations=1e3,m.escapeRadius=256,m.zoomStep=1.5;const e=document.getElementsByClassName("jscolor");for(let n=0;n<e.length;n++){e[n].jscolor.fromRGB(p[n].r,p[n].g,p[n].b)}E(d,m)}),E(d={...u},m)}]);
//# sourceMappingURL=bundle.js.map
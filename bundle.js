!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t){function n(e,t,n){return(e-t)/n}function o(e,t,n){return(e-t)/n}function a(e,t,n){return e+(t-e)*n}e.exports={calcRealFactor:n,calcImaginaryFactor:o,handleZoom:function(e,t,r,s,i,m,g,l){let c=r,u=s;e.preventDefault();const f=n(u.maxReal,u.minReal,i),d=o(u.maxImaginary,u.minImaginary,m);return{currentDimens:u=function(e,t,n,o){const r=o,s=1/n;r.minReal=a(e,r.minReal,s),r.maxReal=a(e,r.maxReal,s),r.minImaginary=a(t,r.minImaginary,s),r.maxImaginary=a(t,r.maxImaginary,s);const i=(r.minReal+r.maxReal)/2-e,m=(r.minImaginary+r.maxImaginary)/2-t;return r.minReal-=i,r.maxReal-=i,r.minImaginary-=m,r.maxImaginary-=m,r}(u.minReal+(e.clientX-g)*f,u.minImaginary+(e.clientY-l)*d,c*=t,u),zoomFactor:r}},handlePan:function(e,t,n){const o=n,a=Math.min(Math.abs(o.minImaginary*t),Math.abs(o.maxImaginary*t)),r={0:()=>{o.minImaginary+=a,o.maxImaginary+=a},1:()=>{o.minReal-=a,o.maxReal-=a},2:()=>{o.minImaginary-=a,o.maxImaginary-=a},3:()=>{o.minReal+=a,o.maxReal+=a}}[e];return r&&r(),o}}},function(e,t,n){e.exports=function(){return new Worker(n.p+"4754bcdf690e26961eec.worker.js")}},function(e,t,n){"use strict";n.r(t);var o=n(1),a=n.n(o),r=n(0),s=n.n(r);const i=function(){const e={iterations:1e3,escapeRadius:256,zoomStep:1.5},t=window.innerWidth,n=window.innerHeight,o={minReal:-2,maxReal:1.3,minImaginary:-1.4,maxImaginary:1.5};let a=1,r={};const s=document.getElementById("canvas");s.width=t,s.height=n;const i=s.offsetLeft,m=s.offsetTop,g=s.getContext("2d"),l=[{r:0,g:7,b:100},{r:32,g:107,b:203},{r:237,g:255,b:255},{r:255,g:170,b:0},{r:0,g:2,b:0}];let c=l.slice(),u=[];return{getMaxWorkers:()=>6,getDefMaxIterations:()=>1e3,getDefEscapeRadius:()=>256,getDefZoomStep:()=>1.5,getOptions:()=>e,setOptionsValue:(t,n)=>{e[t]=n},getCanvas:()=>s,getDrawingContext:()=>g,getCanvasWidth:()=>t,getCanvasHeight:()=>n,getDefDimens:()=>o,getXOffset:()=>i,getYOffset:()=>m,getPanIncrement:()=>.02,getZoomFactor:()=>a,setZoomFactor:e=>{a=e},getCurrentDimens:()=>r,setCurrentDimens:e=>{r=e},getMaxColors:()=>2048,getDefColors:()=>l,getCurrentColors:()=>c,setCurrentColors:e=>{c=e},setSingleColor:(e,t)=>{c[t]=e},getColorArray:()=>u,setColorArray:e=>{u=e}}}();function m(e,t){let{minReal:n,maxReal:o,minImaginary:r,maxImaginary:m}=e;i.setColorArray(function(e,t){const n=function(e,t){let n=e.length;const{length:o}=e;if(o!==t.length)throw new Error("Need an equal count of xs and ys.");if(0===o)return function(){return 0};if(1===o){const e=+t[0];return function(){return e}}const a=[];for(n=0;n<o;n++)a.push(n);a.sort((t,n)=>e[t]<e[n]?-1:1);const r=e,s=t;for(e=[],t=[],n=0;n<o;n++)e.push(+r[a[n]]),t.push(+s[a[n]]);const i=[],m=[],g=[];for(n=0;n<o-1;n++){const o=e[n+1]-e[n],a=t[n+1]-t[n];m.push(o),i.push(a),g.push(a/o)}const l=[g[0]];for(n=0;n<m.length-1;n++){const e=g[n],t=g[n+1];if(e*t<=0)l.push(0);else{const o=m[n],a=m[n+1],r=o+a;l.push(3*r/((r+a)/e+(r+o)/t))}}l.push(g[g.length-1]);const c=[],u=[];for(n=0;n<l.length-1;n++){const e=l[n],t=g[n],o=1/m[n],a=e+l[n+1]-t-t;c.push((t-e-a)*o),u.push(a*o*o)}return function(n){let o=e.length-1;if(n===e[o])return t[o];let a,r=0,s=u.length-1;for(;r<=s;){a=Math.floor(.5*(r+s));const o=e[a];if(o<n)r=a+1;else{if(!(o>n))return t[a];s=a-1}}o=Math.max(0,s);const i=n-e[o],m=i*i;return t[o]+l[o]*i+c[o]*m+u[o]*i*m}};function o(t,n){for(let o=0;o<1;o+=1/e){const e=n(o);t.push(e)}}const a=[],r=[],s=[];o(a,n([0,.16,.42,.6425,.8575],[t[0].r,t[1].r,t[2].r,t[3].r,t[4].r])),o(r,n([0,.16,.42,.6425,.8575],[t[0].g,t[1].g,t[2].g,t[3].g,t[4].g])),o(s,n([0,.16,.42,.6425,.8575],[t[0].b,t[1].b,t[2].b,t[3].b,t[4].b]));const i=[];for(let e=0;e<s.length;e++)i.push(`rgb(${a[e]},${r[e]},${s[e]})`);return i}(i.getMaxColors(),i.getCurrentColors()));const g=Math.abs(e.maxReal-e.minReal)/Math.abs(e.maxImaginary-e.minImaginary),l=i.getCanvasWidth()/i.getCanvasHeight();if(l>g){const e=l/g;n*=e,o*=e}else{const e=g/l;r*=e,m*=e}const c=s.a.calcRealFactor(o,n,i.getCanvasWidth()),u=s.a.calcImaginaryFactor(m,r,i.getCanvasHeight()),f=function(e){const{points:a}=e.data;for(let t=0;t<a.length;t++){const{y:n,fillStyle:o}=a[t];i.getDrawingContext().fillStyle=o,i.getDrawingContext().fillRect(e.data.x,n,1,1)}let s=e.data.x;(s+=i.getMaxWorkers())<i.getCanvasWidth()&&this.postMessage({options:t,x:s,CANVAS_HEIGHT:i.getCanvasHeight(),colorArray:i.getColorArray(),realFactor:c,imaginaryFactor:u,minReal:n,maxReal:o,minImaginary:r,maxImaginary:m})};for(let e=0;e<i.getMaxWorkers();e++){const s=new a.a;s.postMessage({options:t,x:e,CANVAS_HEIGHT:i.getCanvasHeight(),colorArray:i.getColorArray(),realFactor:c,imaginaryFactor:u,minReal:n,maxReal:o,minImaginary:r,maxImaginary:m}),s.onmessage=f}!function(e,t){const n={0:()=>document.getElementById("minReal"),1:()=>document.getElementById("maxReal"),2:()=>document.getElementById("minImag"),3:()=>document.getElementById("maxImag")};for(let t=0;t<Object.keys(e).length;t++){const o=n[t];o&&(o().textContent=e[Object.keys(e)[t]])}const o={0:()=>document.getElementById("iterations"),1:()=>document.getElementById("escapeRadius"),2:()=>document.getElementById("zoomStep")};for(let e=0;e<Object.keys(t).length;e++){const n=o[e];n&&(n().value=t[Object.keys(t)[e]])}}(i.getCurrentDimens(),i.getOptions())}const g=document.getElementsByTagName("body")[0];g.addEventListener("click",e=>{const t=s.a.handleZoom(e,i.getOptions().zoomStep,i.getZoomFactor(),i.getCurrentDimens(),i.getCanvasWidth(),i.getCanvasHeight(),i.getXOffset(),i.getYOffset());i.setCurrentDimens(t.currentDimens),i.setZoomFactor(t.zoomFactor),m(i.getCurrentDimens(),i.getOptions())}),g.addEventListener("contextmenu",e=>{const t=s.a.handleZoom(e,1/i.getOptions().zoomStep,i.getZoomFactor(),i.getCurrentDimens(),i.getCanvasWidth(),i.getCanvasHeight(),i.getXOffset(),i.getYOffset());i.setCurrentDimens(t.currentDimens),i.setZoomFactor(t.zoomFactor),m(i.getCurrentDimens(),i.getOptions())}),document.getElementById("downloadLink").addEventListener("click",function(){this.href=i.getCanvas().toDataURL("image/jpeg")},!1);const l=document.getElementsByClassName("block");for(let e=0;e<l.length;e++){l[e].addEventListener("click",e=>{e.stopPropagation()})}window.updateColor=function(e,t){const[n,o,a]=e.rgb.map(e=>Math.round(e));i.setSingleColor({r:n,g:o,b:a},t),m(i.getCurrentDimens(),i.getOptions()),document.getElementsByClassName("jscolor")[t].jscolor.hide()},window.pan=function(e,t){e.stopPropagation(),i.setCurrentDimens(s.a.handlePan(t,i.getPanIncrement(),i.getCurrentDimens())),m(i.getCurrentDimens(),i.getOptions())},window.updateMandelbrot=function(){const e=document.getElementById("iterations").value,t=document.getElementById("escapeRadius").value,n=document.getElementById("zoomStep").value;e&&i.setOptionsValue("iterations",parseInt(e,10)||i.getDefMaxIterations()),t&&i.setOptionsValue("escapeRadius",parseFloat(t)||i.getDefEscapeRadius()),n&&i.setOptionsValue("zoomStep",parseFloat(n)||i.getDefZoomStep()),m(i.getCurrentDimens(),i.getOptions())},window.handleZoomStep=function(){const e=document.getElementById("zoomStep").value;e&&i.setOptionsValue("zoomStep",parseFloat(e)||i.getDefZoomStep())},window.reset=(()=>{i.setCurrentDimens({...i.getDefDimens()}),i.setCurrentColors(i.getDefColors().slice()),i.setOptionsValue("iterations",i.getDefMaxIterations()),i.setOptionsValue("escapeRadius",i.getDefEscapeRadius()),i.setOptionsValue("zoomStep",i.getDefZoomStep());const e=document.getElementsByClassName("jscolor");for(let t=0;t<e.length;t++){e[t].jscolor.fromRGB(i.getCurrentColors()[t].r,i.getCurrentColors()[t].g,i.getCurrentColors()[t].b)}m(i.getCurrentDimens(),i.getOptions())}),i.setCurrentDimens({...i.getDefDimens()}),m(i.getCurrentDimens(),i.getOptions())}]);
//# sourceMappingURL=bundle.js.map
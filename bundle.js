!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t){function n(e,t,n){return(e-t)/n}function o(e,t,n){return(e-t)/n}function a(e,t,n){return e+(t-e)*n}e.exports={calcRealFactor:n,calcImaginaryFactor:o,handleZoom:function(e,t,r,s,i,c,_,m){let g=r,l=s;e.preventDefault();const u=n(l.maxReal,l.minReal,i),d=o(l.maxImaginary,l.minImaginary,c);return{currentDimens:l=function(e,t,n,o){const r=o,s=1/n;r.minReal=a(e,r.minReal,s),r.maxReal=a(e,r.maxReal,s),r.minImaginary=a(t,r.minImaginary,s),r.maxImaginary=a(t,r.maxImaginary,s);const i=(r.minReal+r.maxReal)/2-e,c=(r.minImaginary+r.maxImaginary)/2-t;return r.minReal-=i,r.maxReal-=i,r.minImaginary-=c,r.maxImaginary-=c,r}(l.minReal+(e.clientX-_)*u,l.minImaginary+(e.clientY-m)*d,g*=t,l),zoomFactor:r}},handlePan:function(e,t,n){const o=n,a=Math.min(Math.abs(o.minImaginary*t),Math.abs(o.maxImaginary*t)),r={0:()=>{o.minImaginary+=a,o.maxImaginary+=a},1:()=>{o.minReal-=a,o.maxReal-=a},2:()=>{o.minImaginary-=a,o.maxImaginary-=a},3:()=>{o.minReal+=a,o.maxReal+=a}}[e];return r&&r(),o}}},function(e,t,n){e.exports=function(){return new Worker(n.p+"4754bcdf690e26961eec.worker.js")}},function(e,t,n){"use strict";n.r(t);var o=n(1),a=n.n(o),r=n(0),s=n.n(r);const i=function(){const e={iterations:1e3,escapeRadius:256,zoomStep:1.5},t=window.innerWidth,n=window.innerHeight,o={minReal:-2,maxReal:1.3,minImaginary:-1.4,maxImaginary:1.5};let a=1,r={};const s=document.getElementById("canvas");s.width=t,s.height=n;const i=s.offsetLeft,c=s.offsetTop,_=s.getContext("2d"),m=[{r:0,g:7,b:100},{r:32,g:107,b:203},{r:237,g:255,b:255},{r:255,g:170,b:0},{r:0,g:2,b:0}];let g=m.slice(),l=[];return{get_max_wokers:()=>6,get_def_max_iterations:()=>1e3,get_def_escape_radius:()=>256,get_def_zoom_step:()=>1.5,get_options:()=>e,set_options_value:(t,n)=>{e[t]=n},get_canvas:()=>s,get_drawing_context:()=>_,get_canvas_width:()=>t,get_canvas_height:()=>n,get_def_dimens:()=>o,get_x_offset:()=>i,get_y_offset:()=>c,get_pan_increment:()=>.02,get_zoom_factor:()=>a,set_zoom_factor:e=>{a=e},get_current_dimens:()=>r,set_current_dimens:e=>{r=e},get_max_colors:()=>2048,get_def_colors:()=>m,get_current_colors:()=>g,set_current_colors:e=>{g=e},set_current_color_single_color:(e,t)=>{g[t]=e},get_color_array:()=>l,set_color_array:e=>{l=e}}}();function c(e,t){let{minReal:n,maxReal:o,minImaginary:r,maxImaginary:c}=e;i.set_color_array(function(e,t){const n=function(e,t){let n=e.length;const{length:o}=e;if(o!==t.length)throw new Error("Need an equal count of xs and ys.");if(0===o)return function(){return 0};if(1===o){const e=+t[0];return function(){return e}}const a=[];for(n=0;n<o;n++)a.push(n);a.sort((t,n)=>e[t]<e[n]?-1:1);const r=e,s=t;for(e=[],t=[],n=0;n<o;n++)e.push(+r[a[n]]),t.push(+s[a[n]]);const i=[],c=[],_=[];for(n=0;n<o-1;n++){const o=e[n+1]-e[n],a=t[n+1]-t[n];c.push(o),i.push(a),_.push(a/o)}const m=[_[0]];for(n=0;n<c.length-1;n++){const e=_[n],t=_[n+1];if(e*t<=0)m.push(0);else{const o=c[n],a=c[n+1],r=o+a;m.push(3*r/((r+a)/e+(r+o)/t))}}m.push(_[_.length-1]);const g=[],l=[];for(n=0;n<m.length-1;n++){const e=m[n],t=_[n],o=1/c[n],a=e+m[n+1]-t-t;g.push((t-e-a)*o),l.push(a*o*o)}return function(n){let o=e.length-1;if(n===e[o])return t[o];let a,r=0,s=l.length-1;for(;r<=s;){a=Math.floor(.5*(r+s));const o=e[a];if(o<n)r=a+1;else{if(!(o>n))return t[a];s=a-1}}o=Math.max(0,s);const i=n-e[o],c=i*i;return t[o]+m[o]*i+g[o]*c+l[o]*i*c}};function o(t,n){for(let o=0;o<1;o+=1/e){const e=n(o);t.push(e)}}const a=[],r=[],s=[];o(a,n([0,.16,.42,.6425,.8575],[t[0].r,t[1].r,t[2].r,t[3].r,t[4].r])),o(r,n([0,.16,.42,.6425,.8575],[t[0].g,t[1].g,t[2].g,t[3].g,t[4].g])),o(s,n([0,.16,.42,.6425,.8575],[t[0].b,t[1].b,t[2].b,t[3].b,t[4].b]));const i=[];for(let e=0;e<s.length;e++)i.push(`rgb(${a[e]},${r[e]},${s[e]})`);return i}(i.get_max_colors(),i.get_current_colors()));const _=Math.abs(e.maxReal-e.minReal)/Math.abs(e.maxImaginary-e.minImaginary),m=i.get_canvas_width()/i.get_canvas_height();if(m>_){const e=m/_;n*=e,o*=e}else{const e=_/m;r*=e,c*=e}const g=s.a.calcRealFactor(o,n,i.get_canvas_width()),l=s.a.calcImaginaryFactor(c,r,i.get_canvas_height()),u=function(e){const{points:a}=e.data;for(let t=0;t<a.length;t++){const{y:n,fillStyle:o}=a[t];i.get_drawing_context().fillStyle=o,i.get_drawing_context().fillRect(e.data.x,n,1,1)}let s=e.data.x;(s+=i.get_max_wokers())<i.get_canvas_width()&&this.postMessage({options:t,x:s,CANVAS_HEIGHT:i.get_canvas_height(),colorArray:i.get_color_array(),realFactor:g,imaginaryFactor:l,minReal:n,maxReal:o,minImaginary:r,maxImaginary:c})};for(let e=0;e<i.get_max_wokers();e++){const s=new a.a;s.postMessage({options:t,x:e,CANVAS_HEIGHT:i.get_canvas_height(),colorArray:i.get_color_array(),realFactor:g,imaginaryFactor:l,minReal:n,maxReal:o,minImaginary:r,maxImaginary:c}),s.onmessage=u}!function(e,t){const n={0:()=>document.getElementById("minReal"),1:()=>document.getElementById("maxReal"),2:()=>document.getElementById("minImag"),3:()=>document.getElementById("maxImag")};for(let t=0;t<Object.keys(e).length;t++){const o=n[t];o&&(o().textContent=e[Object.keys(e)[t]])}const o={0:()=>document.getElementById("iterations"),1:()=>document.getElementById("escapeRadius"),2:()=>document.getElementById("zoomStep")};for(let e=0;e<Object.keys(t).length;e++){const n=o[e];n&&(n().value=t[Object.keys(t)[e]])}}(i.get_current_dimens(),i.get_options())}const _=document.getElementsByTagName("body")[0];_.addEventListener("click",e=>{const t=s.a.handleZoom(e,i.get_options().zoomStep,i.get_zoom_factor(),i.get_current_dimens(),i.get_canvas_width(),i.get_canvas_height(),i.get_x_offset(),i.get_y_offset());i.set_current_dimens(t.currentDimens),i.set_zoom_factor(t.zoomFactor),c(i.get_current_dimens(),i.get_options())}),_.addEventListener("contextmenu",e=>{const t=s.a.handleZoom(e,1/i.get_options().zoomStep,i.get_zoom_factor(),i.get_current_dimens(),i.get_canvas_width(),i.get_canvas_height(),i.get_x_offset(),i.get_y_offset());i.set_current_dimens(t.currentDimens),i.set_zoom_factor(t.zoomFactor),c(i.get_current_dimens(),i.get_options())}),document.getElementById("downloadLink").addEventListener("click",function(){this.href=i.get.toDataURL("image/jpeg")},!1);const m=document.getElementsByClassName("block");for(let e=0;e<m.length;e++){m[e].addEventListener("click",e=>{e.stopPropagation()})}window.updateColor=function(e,t){const[n,o,a]=e.rgb.map(e=>Math.round(e));i.set_current_color_single_color({r:n,g:o,b:a},t),c(i.get_current_dimens(),i.get_options()),document.getElementsByClassName("jscolor")[t].jscolor.hide()},window.pan=function(e,t){e.stopPropagation(),i.set_current_dimens(s.a.handlePan(t,i.get_pan_increment(),i.get_current_dimens())),c(i.get_current_dimens(),i.get_options())},window.updateMandelbrot=function(){const e=document.getElementById("iterations").value,t=document.getElementById("escapeRadius").value,n=document.getElementById("zoomStep").value;e&&i.set_options_value("iterations",parseInt(e,10)||i.get_def_max_iterations()),t&&i.set_options_value("escapeRadius",parseFloat(t)||i.get_def_escape_radius()),n&&i.set_options_value("zoomStep",parseFloat(n)||i.get_def_zoom_step()),c(i.get_current_dimens(),i.get_options())},window.handleZoomStep=function(){const e=document.getElementById("zoomStep").value;e&&i.set_options_value("zoomStep",parseFloat(e)||i.get_def_zoom_step())},window.reset=(()=>{i.set_current_dimens({...i.get_def_dimens()}),i.set_current_colors(i.get_def_colors().slice()),i.set_options_value("iterations",i.get_def_max_iterations()),i.set_options_value("escapeRadius",i.get_def_escape_radius()),i.set_options_value("zoomStep",i.get_def_zoom_step());const e=document.getElementsByClassName("jscolor");for(let t=0;t<e.length;t++){e[t].jscolor.fromRGB(i.get_current_colors()[t].r,i.get_current_colors()[t].g,i.get_current_colors()[t].b)}c(i.get_current_dimens(),i.get_options())}),i.set_current_dimens({...i.get_def_dimens()}),c(i.get_current_dimens(),i.get_options())}]);
//# sourceMappingURL=bundle.js.map